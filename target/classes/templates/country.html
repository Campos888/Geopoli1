> coco:
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<title th:text="${country != null ? country.name : 'Country'}">Country</title>
<link rel="stylesheet" href="/css/country.css" />
</head>

<body>

<div th:if="${country}" class="document-container">
    <!-- Official Header -->
  <header class="official-header">
      <div class="header-top">
          <div class="org-logo">
              <div class="logo-text">üåç INTERNATIONAL COUNTRY ASSESSMENT BUREAU</div>
          </div>
          <div class="classification">OFFICIAL DOCUMENT</div>
      </div>

      <div class="country-header-main">
          <img th:if="${country.code}" 
               th:src="'https://flagcdn.com/w320/' + ${country.code} + '.png'"
               alt="Flag"
               class="country-flag-official" />

          <div class="country-title-section">
              <h1 th:text="${country.name}">Country Name</h1>
          </div>
      </div>
  </header>


    <!-- Document Info -->
    <div class="document-info">
        <div th:text="'Report Generated: ' + ${#temporals.format(#temporals.createNow(), 'dd MMMM yyyy')} + ' | Status: Active Monitoring'">Report Generated: January 15, 2025 | Status: Active Monitoring</div>
        <div>Classification: UNCLASSIFIED | Distribution: OFFICIAL USE</div>
    </div>

    <!-- Main Content -->
    <div class="main-content">
        <!-- Left Panel -->
    <div class="left-panel">

      <!-- Panoramica + info base affiancati -->
      <div class="overview-section">
          <!-- Immagine -->
          <div class="overview-image">
              <img th:src="${country.urlImage}" th:alt="${country.name + ' Overview'}" class="country-cover-image-overlay" />
          </div>

          <!-- Statistiche principali -->
          <div class="overview-info">
              <h3 class="section-title">Key Information</h3>
              <div class="info-row">
                  <span class="info-label">Population:</span>
                  <span class="info-value" th:text="${country.population != null ? country.population + 'M' : 'N/A'}">N/A</span>
              </div>
              <div class="info-row">
                  <span class="info-label">Capital:</span>
                  <span class="info-value" th:text="${country.capital ?: 'N/A'}">N/A</span>
              </div>
              <div class="info-row">
                  <span class="info-label">Area:</span>
                  <span class="info-value" th:text="${country.area != null ? country.area + ' km¬≤' : 'N/A'}">N/A</span>
              </div>
              <div class="info-row">
                  <span class="info-label">Currency:</span>
                  <span class="info-value" th:text="${country.currency ?: 'N/A'}">N/A</span>
              </div>
              <div class="info-row">
                  <span class="info-label">Government:</span>
                  <span class="info-value" th:text="${country.government ?: 'N/A'}">N/A</span>
              </div>
              <div class="info-row">
                  <span class="info-label">Current Temp:</span>
                  <span class="info-value" th:text="${country.current_temperautre != null ? country.current_temperautre + '¬∞C' : 'N/A'}">N/A</span>
              </div>
              <div class="info-row">
                  <span class="info-label">Conflict Status:</span>
                  <span class="info-value"
                        th:text="${country.conflict_status ?: 'Unknown'}"
                        th:classappend="${country.conflict_status == 'Active Conflict' ? 'status-critical' : (country.conflict_status == 'Minor Conflict' ? 'status-warning' : 'status-good')}">Unknown</span>
              </div>
          </div>
      </div>

> coco:
<!-- Right Panel -->
        <div class="right-panel">
            <!-- Detailed Statistics -->
            <div class="detailed-stats">
                <table class="stats-table">
                    <thead>
                        <tr>
                            <th>Metric</th>
                            <th>Score</th>
                            <th>Rating</th>
                            <th>Description</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Political Stability</td>
                            <td th:text="${country.political_stability != null ? country.political_stability + '/10' : 'N/A'}">/10</td>
                            <td th:class="${country.political_stability != null ? (country.political_stability >= 8 ? 'rating-excellent' : (country.political_stability >= 6 ? 'rating-good' : (country.political_stability >= 4 ? 'rating-fair' : 'rating-poor'))) : ''}"
                                th:text="${country.political_stability != null ? (country.political_stability >= 8 ? 'Excellent' : (country.political_stability >= 6 ? 'Good' : (country.political_stability >= 4 ? 'Fair' : 'Poor'))) : 'N/A'}">N/A</td>
                            <td>Government Stability</td>
                        </tr>
                        <tr>
                            <td>Healthcare System</td>
                            <td th:text="${country.healthcare != null ? country.healthcare + '/10' : 'N/A'}">/10</td>
                            <td th:class="${country.healthcare != null ? (country.healthcare >= 8 ? 'rating-excellent' : (country.healthcare >= 6 ? 'rating-good' : (country.healthcare >= 4 ? 'rating-fair' : 'rating-poor'))) : ''}"
                                th:text="${country.healthcare != null ? (country.healthcare >= 8 ? 'Excellent' : (country.healthcare >= 6 ? 'Good' : (country.healthcare >= 4 ? 'Fair' : 'Poor'))) : 'N/A'}">N/A</td>
                            <td>Medical Care Quality</td>
                        </tr>
                        <tr>
                            <td>Education Index</td>
                            <td th:text="${country.education != null ? country.education + '/10' : 'N/A'}">/10</td>
                            <td th:class="${country.education != null ? (country.education >= 8 ? 'rating-excellent' : (country.education >= 6 ? 'rating-good' : (country.education >= 4 ? 'rating-fair' : 'rating-poor'))) : ''}"
                                th:text="${country.education != null ? (country.education >= 8 ? 'Excellent' : (country.education >= 6 ? 'Good' : (country.education >= 4 ? 'Fair' : 'Poor'))) : 'N/A'}">N/A</td>
                            <td>Education System Quality</td>
                        </tr>
                        <tr>
                            <td>Environmental Performance</td>
                            <td th:text="${country.envaironment != null ? country.envaironment + '/10' : 'N/A'}">/10</td>
                            <td th:class="${country.envaironment != null ? (country.envaironment >= 8 ? 'rating-excellent' : (country.envaironment >= 6 ? 'rating-good' : (country.envaironment >= 4 ? 'rating-fair' : 'rating-poor'))) : ''}"
                                th:text="${country.envaironment != null ? (country.envaironment >= 8 ? 'Excellent' : (country.envaironment >= 6 ? 'Good' : (country.envaironment >= 4 ? 'Fair' : 'Poor'))) : 'N/A'}">N/A</td>
                            <td>Air & Water Quality</td>
                        </tr>
                        <tr>
                            <td>Military Strength</td>
                            <td th:text="${country.military_strength != null ? country.military_strength + '/10' : 'N/A'}">/10</td>
                            <td th:class="${country.military_strength != null ? (country.military_strength >= 8 ? 'rating-excellent' : (country.military_strength >= 6 ? 'rating-good' : (country.military_strength >= 4 ? 'rating-fair' : 'rating-poor'))) : ''}"

> coco:
th:text="${country.military_strength != null ? (country.military_strength >= 8 ? 'Excellent' : (country.military_strength >= 6 ? 'Good' : (country.military_strength >= 4 ? 'Fair' : 'Poor'))) : 'N/A'}">N/A</td>
                            <td>Defense Capabilities</td>
                        </tr>
                        <tr>
                            <td>Economic Status</td>
                            <td th:text="${country.wealth != null ? country.wealth + '/10' : 'N/A'}">/10</td>
                            <td th:class="${country.wealth != null ? (country.wealth >= 8 ? 'rating-excellent' : (country.wealth >= 6 ? 'rating-good' : (country.wealth >= 4 ? 'rating-fair' : 'rating-poor'))) : ''}"
                                th:text="${country.wealth != null ? (country.wealth >= 8 ? 'Wealthy' : (country.wealth >= 6 ? 'Prosperous' : (country.wealth >= 4 ? 'Developing' : 'Poor'))) : 'N/A'}">N/A</td>
                            <td>GDP & Living Standards</td>
                        </tr>
                        <tr>
                            <td>Travel Safety</td>
                            <td th:text="${country.travel_safty != null ? country.travel_safty + '/10' : 'N/A'}">/10</td>
                            <td th:class="${country.travel_safty != null ? (country.travel_safty >= 8 ? 'rating-excellent' : (country.travel_safty >= 6 ? 'rating-good' : (country.travel_safty >= 4 ? 'rating-fair' : 'rating-poor'))) : ''}"
                                th:text="${country.travel_safty != null ? (country.travel_safty >= 8 ? 'Very Safe' : (country.travel_safty >= 6 ? 'Safe' : (country.travel_safty >= 4 ? 'Moderate' : 'Risky'))) : 'N/A'}">N/A</td>
                            <td>Tourist Safety Index</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <!-- Comments Section - Full Width -->
    <div class="comments-full-section">
        <div class="comments-container">
            <h3 class="section-title">Comments & Analysis</h3>
            
            <!-- Comment Form -->
            <div class="comment-form">
                <form action="/addComment" method="post">
                    <input type="hidden" name="countryId" th:value="${country.id}" />
                    <textarea name="text" class="comment-input" placeholder="Write your comment..." required></textarea>
                    <button type="submit" class="comment-submit">Post Comment</button>
                </form>
            </div>

            <!-- Comments List -->
            <div class="comments-list">
                <div th:if="${country.comments != null and !country.comments.isEmpty()}">
                    <div th:each="comment : ${country.comments}" class="comment-item">
                        <div class="comment-header">
                            <span class="comment-author" th:text="${comment.user.credentials.username}">Username</span>
                            <span class="comment-time" th:text="${#temporals.format(comment.createdAt, 'dd/MM/yyyy HH:mm')}">Date</span>
                        </div>
                        <div class="comment-text" th:text="${comment.text}">Comment text</div>
                    </div>
                </div>
                
                <div th:unless="${country.comments != null and !country.comments.isEmpty()}" class="no-comments">
                    <p>No comments yet. Be the first to comment!</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="document-footer">
        <div th:text="'Last Updated: ' + ${#temporals.format(#temporals.createNow(), 'dd MMMM yyyy')} + ' | Next Review: Ongoing'">Last Updated: January 15, 2025 | Next Review: Ongoing</div>
    </footer>
</div>

<div th:unless="${country}" class="error-message">
    <p>Country not found or does not exist.</p>
</div>

</body>
</html>
